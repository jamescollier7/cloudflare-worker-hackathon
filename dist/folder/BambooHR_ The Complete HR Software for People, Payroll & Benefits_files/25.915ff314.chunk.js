(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{"4yhJ":function(e,t,a){"use strict";var n=a("QtlZ"),c=a("Wjfv"),r=a("ILQF");t.a=function UseRemoveActiveCampaign(){Object(r.c)({topic:"CONDUCTOR:remove-active-campaign",handler:function handler(e){n.a.dispatch(Object(c.a)())}})}},"7HSs":function(e,t,a){"use strict";var n=a("O94r"),c=a.n(n),r=a("dT9Q"),o=a("BY8A"),i=a("yXOZ"),s=a("qATS"),u=a("Sn8X"),d=a("SFoa"),l=a("2XY6"),b=a("ERkP"),p=a.n(b),f=a("oPI6"),g=a("uDfI"),O=a("vTYT"),v=function ControllerLayout(){Object(u.a)();var e=Object(d.k)(),t=Object(g.c)(l.e),a=Object(g.c)(l.c);return Object(b.useEffect)(function(){var t=document.getElementById("root");t.classList.remove("align-left"),t.classList.remove("align-right"),t.classList.add("align-".concat(e))},[e]),p.a.createElement("div",{"aria-label":"Drift Widget messenger icon",id:"widgetIcon",className:c()(O.d.CONTROLLER,{"widget--xs":!!t,"chat-open":a})},p.a.createElement(o.a,null),p.a.createElement(f.a,{"aria-live":"polite"},p.a.createElement(r.a,null),p.a.createElement(i.a,null)))};t.a=function(){var e=Object(s.a)();return p.a.createElement(p.a.Fragment,null,e&&p.a.createElement(v,null))}},"9gQL":function(e,t,a){"use strict";var n=a("O94r"),c=a.n(n),r=a("zcvD"),o=a("BY8A"),i=a("qATS"),s=a("Sn8X"),u=a("Hvhg"),d=a("+f1A"),l=a("ERkP"),b=a.n(l),p=a("oPI6"),f=a("uDfI"),g=a("12GJ"),O=(a("t0pQ"),a("fpJs")),v=function LandingPageLayout(){Object(s.a)();var e=Object(O.a)(),t=Object(f.c)(d.k),a=t.hasConsent,n=t.declinedConsent,i=Object(f.c)(u.i),l=Object(f.c)(u.n),p={backgroundImage:"linear-gradient(135deg, #".concat(i,", #").concat(l,")"),"backgroundSize:":"cover",backgroundPosition:"center",backgroundAttachment:"fixed"};return b.a.createElement("div",{className:"drift-widget-landingpage-layout","aria-label":"Drift Widget messenger"},b.a.createElement(o.a,null),b.a.createElement("div",{className:c()("drift-widget-landingpage-wrapper",{"drift-widget-landingpage-wrapper__active-conversation":!0,"with-footer":e}),style:p},!a&&b.a.createElement("div",{className:"drift-widget-landing-page--gdpr"},b.a.createElement(g.a,{previewRef:null,resetChatHeight:function resetChatHeight(){},canRetryConsent:n})),b.a.createElement(r.a,{hasGdprConsent:a})))};t.a=function(e){var t=Object(i.a)();return b.a.createElement(p.a,{"aria-live":"polite"},t?b.a.createElement(v,e):null)}},Erxq:function(e,t,a){"use strict";var n=a("LVcX"),c=a("ERkP");t.a=function useIsBotMessage(e){return Object(c.useMemo)(function(){return Object(n.a)(!1,["attributes","isBot"],e)},[e])}},Hnjx:function(e,t,a){"use strict";var n=a("uDfI"),c=a("8saY");t.a=function useWidgetIconShape(){return Object(n.c)(function(e){return e.embed.configuration.theme.widgetIconShape})||c.b.SQUARE}},IJKc:function(e,t,a){"use strict";var n=a("da4L"),c=a("LVcX"),r=a("i9gz"),o=a("DboL"),i=a("ERkP"),s=a("uDfI");t.a=function useUnreadMessagesForActiveConversation(){var e=Object(s.c)(function(e){return e.conversations}).activeConversation,t=Object(s.c)(function(t){return Object(c.a)({},["conversations","messages",e],t)}),a=Object(s.c)(function(t){return Object(c.a)([],["conversations","unreadAgentMessages",e],t)});return Object(i.useMemo)(function(){if(Object(r.a)(t))return[];var e=Object(n.q)(Object(o.a)(t));return e.filter(function(e){return function messageHasBody(e){return!!e.body&&!!e.body.length}(e)&&function messageIsNotRatingPrompt(e){return!Object(n.d)(e,"ratingPrompt")}(e)&&function messageIsUnread(e){return a.includes(e.id)}(e)})},[t,a])}},LwEI:function(e,t,a){"use strict";var n=a("LVcX"),c=a("uDfI"),r=a("vTYT");t.a=function useWidgetAlignment(){return Object(c.c)(function(e){return Object(n.a)(r.b.RIGHT,["embed","configuration","theme","alignment"],e)})}},Qmxn:function(e,t,a){"use strict";a.d(t,"b",function(){return l});var n=a("mj2O"),c=a.n(n),r=a("7SM1"),o=a("WwEg"),i=a("QtlZ"),s=a("+f1A"),u=a("SWQ0"),d=a("wNJw"),l=function processDebugInitEvent(){console.group("\u26a1\u26a1 Drift Debug - Init Process");var e=Object(o.a)(Object(s.d)(Object(i.b)()));if(!e)return console.log("Did not find any debug logs"),void console.groupEnd();e.sort(function(e,t){return e.order-t.order}),e.forEach(function(e){console.log("- ".concat(e.debugLog))}),console.groupEnd()},b=function(){var e=Object(r.a)(c.a.mark(function _callee(e){return c.a.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:Object(d.a)(u.a.DEBUG_INIT);case 1:case"end":return e.stop()}},_callee)}));return function InitDebugCommand(t){return e.apply(this,arguments)}}();t.a=b},RKIR:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var n={googleAnalyticsSettings:!0}},UvQv:function(e,t,a){"use strict";a.d(t,"a",function(){return useDisableWidgetIcon});var n=a("s8DI"),c=a("ILQF"),r=a("ERkP");function useDisableWidgetIcon(){var e=Object(r.useState)(!1),t=Object(n.a)(e,2),a=t[0],o=t[1];return Object(r.useEffect)(function(){Object(c.c)({topic:"CONDUCTOR:disableWidgetIcon",handler:function handler(){return o(!0)}})},[]),{isDisabled:a,setIsDisabled:o}}},Zulv:function(e,t,a){"use strict";var n,c=a("mj2O"),r=a.n(c),o=a("nfbA"),i=a("7SM1"),s=a("g3yi"),u=a("yKvL"),d=a("uIJS"),l=a("LvsC"),b=a("qytN"),p=a("7jL2"),f=a("acD3"),g=a("j/hj"),O=a("QtlZ"),v=a("vjCh"),j=a("Wjfv"),h=a("La++"),m=a("ILQF"),_=a("qixE"),I=a("K7i0"),w=a("5ZR4"),y=a("B8JY"),C=a("Hvhg"),k=a("SFoa"),x=["BE","BG","CZ","DK","DE","EE","IE","EL","ES","FR","HR","IT","CY","LV","LT","LU","HU","MT","NL","AT","PL","PT","RO","SI","SK","FI","SE","GB"],A=["CA"],E={EU:x,CANADA:A,EU_CANADA:[].concat(A,x),NONE:"NONE",ALL:"ALL"},T=a("qwiD"),S=a("+f1A"),D=a("H/qh");!function(e){e.EU="EU",e.CANADA="CANADA",e.EU_CANADA="EU_CANADA",e.NONE="NONE",e.ALL="ALL"}(n||(n={}));var L=function(){var e=Object(i.a)(r.a.mark(function _callee(){var e,t,a,n,c,o;return r.a.wrap(function _callee$(r){for(;;)switch(r.prev=r.next){case 0:if(e=Object(O.b)(),t=Object(C.d)(e,"dataProtection",null),a=Object(S.s)(e),n=Object(S.k)(e),t){r.next=7;break}return P({needsConsent:!0,hasConsent:!1}),r.abrupt("return");case 7:c=R(t.targeting,a),o=!c||n.hasConsent,c&&!o?O.a.dispatch(Object(T.k)({debugLog:"Needs to provide GDPR consent, displayed the form",order:5})):c&&o?O.a.dispatch(Object(T.k)({debugLog:"Has already provided GDPR consent, did not display the form",order:5})):O.a.dispatch(Object(T.k)({debugLog:"Does not need to provide GDPR consent, did not display the form",order:5})),P({needsConsent:c,hasConsent:o});case 11:case"end":return r.stop()}},_callee)}));return function checkGdprConsentEligibility(){return e.apply(this,arguments)}}(),R=function resolveVisitorNeedsConsent(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).country;return e===E.ALL||!(e===E.NONE||!e)&&(!t||Object(D.a)(t,E[e]))},P=function dispatchGdprEligbility(e){var t=e.needsConsent,a=e.hasConsent;O.a.dispatch(Object(T.q)({hasConsent:a,needsConsent:t}))},M=a("PCkZ"),N=a("wsRw"),F=a("hC/6"),B=a("pvgo"),U=a("a4Je"),q=a("kVVm"),V=a("OA1u"),H=a("g6eD"),$=a("JBtm"),W=a.n($),Q=a("EoDD"),J=a("mfas"),G=a("LVcX"),Z=a("SWQ0"),Y=a("0lfv"),K=a("wNJw"),X=a("4c+F"),z=a("HSQL"),ee=a("EQxi"),te=function BootstrapBase(e){var t=this,a=e.embedId,n=e.params;Object(d.a)(this,BootstrapBase),this._state=void 0,this._params=void 0,this._embedId=void 0,this._preReqData=void 0,this._dispatch=void 0,this._interactionId=void 0,this._instanceId=void 0,this._sessionId=void 0,this._orgId=void 0,this._identityMap=void 0,this._accessToken=void 0,this._currentPageUrl=void 0,this._currentPageSearch=void 0,this._bootstrapResponse=void 0,this.init=Object(i.a)(r.a.mark(function _callee(){return r.a.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t._init().catch(function(e){return Object(Y.x)([e])}));case 1:case"end":return e.stop()}},_callee)})),this._init=Object(i.a)(r.a.mark(function _callee2(){var e,a,n,c,o;return r.a.wrap(function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:return e=null,r.prev=1,c=t._getTimingParamValueOrDefault("pageLoadStartTime",0),t._receiveSessionFromParams(),r.next=6,Object(U.b)();case 6:return o=r.sent,t._currentPageUrl=null===(a=o.page)||void 0===a?void 0:a.href,t._currentPageSearch=null===(n=o.page)||void 0===n?void 0:n.search,r.next=11,t._preBootstrap();case 11:return e=r.sent,r.next=14,t._initializeAfterPing();case 14:return Object(B.a)(c,t._instanceId,t._embedId),r.next=17,t._handleServerBootstrap();case 17:return Object(U.c)(),L(),Object(N.a)(),r.next=22,t.onBootstrapComplete();case 22:t._dispatch(Object(H.n)({initComplete:!0})),Object(B.b)(),Object(X.a)("bootstrap.complete"),r.next=31;break;case 27:r.prev=27,r.t0=r.catch(1),r.t0 instanceof u.a?(Object(K.a)(Z.b.BOOTSTRAP_FAILED),Object(X.a)("bootstrap.failure")):e||(Object(K.a)(Z.b.BOOTSTRAP_FAILED),Object(X.a)("bootstrap.failure")),Object(Y.f)(r.t0);case 31:case"end":return r.stop()}},_callee2,null,[[1,27]])})),this.onBootstrapComplete=function(){new Error("You must implement the onBootstrapComplete method in your extension of BootstrapBase")},this._preBootstrap=Object(i.a)(r.a.mark(function _callee3(){var e,a,n,c,o,i,s,u,d;return r.a.wrap(function _callee3$(r){for(;;)switch(r.prev=r.next){case 0:return n=W.a.parse(document.location.search),t._embedId||Object(Y.n)({type:"warn",data:["pre-ping warning: missing embedId var: ".concat(t._embedId,".  query:").concat(document.location.search,", var:").concat(null===(c=window)||void 0===c?void 0:null===(o=c.drift)||void 0===o?void 0:o.embedId)],internal:!0}),i=t._currentPageUrl||t._params.parentUrl,r.next=5,ue({embedId:(null===n||void 0===n?void 0:n.embedId)||t._embedId||(null===(e=window)||void 0===e?void 0:null===(a=e.drift)||void 0===a?void 0:a.embedId)||(null===n||void 0===n?void 0:n.eId),pageUrl:i});case 5:if(s=r.sent,!Object(Y.m)(s)&&!s.status){r.next=11;break}return Object(Y.n)({type:"error",data:["ping failed","pageVar: ".concat(t._currentPageUrl),"parentUrl: ".concat(t._params.parentUrl),"\nembedIdvar: ".concat(t._embedId," \n query:").concat(null===n||void 0===n?void 0:n.embedId," \n query2:").concat(null===n||void 0===n?void 0:n.eId," \n var:").concat(null===(u=window)||void 0===u?void 0:null===(d=u.drift)||void 0===d?void 0:d.embedId," \n allParams:").concat(document.location.search),s],internal:!0}),Object(Y.x)(["Failed to get ping information from bootstrap - ".concat(JSON.stringify(s)),s]),t._dispatch(Object(T.k)({debugLog:"Did not find any embedId to load",order:0})),r.abrupt("return",!1);case 11:t._embedId=s.embedId,t._dispatch(Object(T.k)({debugLog:"Loading embedId ".concat(t._embedId),order:0})),window.drift=window.drift||{},window.drift.embedId=t._embedId,t._preReqData=s;case 16:case"end":return r.stop()}},_callee3)})),this._initializeAfterPing=Object(i.a)(r.a.mark(function _callee4(){var e;return r.a.wrap(function _callee4$(a){for(;;)switch(a.prev=a.next){case 0:if(t._embedId&&!Object(Y.m)(t._preReqData)){a.next=2;break}return a.abrupt("return");case 2:return t._dispatch(Object(y.c)({id:t._embedId,theme:{signedIdentityRequiredStatus:t._preReqData.signedIdentityStatus,cookieDomains:t._preReqData.cookieDomains||[]}})),a.next=5,Object(w.a)();case 5:return a.next=7,Object(w.b)({demandbaseToken:null===(e=t._preReqData)||void 0===e?void 0:e.demandBaseToken});case 7:return a.next=9,Object(U.a)();case 9:return a.next=11,t._generateAuthenticationIdentity();case 11:case"end":return a.stop()}},_callee4)})),this._handleServerBootstrap=Object(i.a)(r.a.mark(function _callee6(){var e,a,n,c,s,d,l,b,p,f,g,O,h,_,w,C,k,x,A,E,S,D,L,R,P,M,N,B;return r.a.wrap(function _callee6$(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,Object(z.c)(Object(i.a)(r.a.mark(function _callee5(){return r.a.wrap(function _callee5$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._getServerBootstrapResponse();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},_callee5)})),"widget_core:bootstrap_api");case 2:if(e=t._bootstrapResponse,a=e.embed,n=e.tokenResult,c=e.location,s=void 0===c?{}:c,d=e.chatAuth,l=void 0===d?null:d,b=e.combinedAvailabilityResponse,p=void 0===b?{}:b,f=e.presenceAuth,g=void 0===f?null:f,O=e.sentryConfig,h=void 0===O?null:O,_=e.longpollConfig,w=void 0===_?null:_,C=e.widgetChatBootstrapResponse,k=void 0===C?null:C,x=e.welcomeMessageUsers,A=void 0===x?null:x,E=e.evaluatedConditionsResults,S=void 0===E?null:E,n){U.next=5;break}throw new u.a("Received null access token from widget auth");case 5:return t._orgId=null===a||void 0===a?void 0:a.orgId,t._dispatch(Object(y.b)(Object(o.a)(Object(o.a)({},a),{},{welcomeMessageUsers:A}))),t._dispatch(Object(T.r)(s)),t._dispatch(Object(T.h)(l)),t._dispatch(Object(T.t)(g)),t._dispatch(Object(V.a)(p)),h&&t._dispatch(Object(F.b)({forceLog:Object(Q.a)(t._orgId,h.allowListOrgIds),limit:h.limit,sentryLoggingEnabled:h.sentryEnabled})),w&&t._dispatch(Object(F.a)(w)),U.next=15,Object(q.a)({orgId:t._orgId,chatAuth:l});case 15:D=n.accessToken,L=n.didConsentToRequestedConsentId,R=n.assignedAgentId,t._accessToken=D,P=Object(J.a)(["didConsentToRequestedConsentId","accessToken","assignedAgentId"],n),t._dispatch(Object(T.l)({endUser:P,assignedAgentId:R})),t._dispatch(Object(T.f)({accessToken:D})),t._dispatch(Object(T.q)({hasConsent:L||!1})),t._checkForPreRender(),k&&(Object(v.d)(k.campaignConversations),(M=Object.keys(k.campaignEnrollment)).length&&t._dispatch(Object(j.g)(M)),k.conversations.length&&t._dispatch(Object(I.g)({conversations:k.conversations}))),N=t._getFastlaneTestModeSettings(),Object(Y.m)(N)&&(Object(Y.m)(S)||Object(Y.m)(S.fastlaneCampaignResults))||Object(m.a)({topic:"attach-form-listener-to-dom",message:Object(o.a)({fastLaneCampaigns:null!==(B=null===S||void 0===S?void 0:S.fastlaneCampaignResults)&&void 0!==B?B:[]},N&&{fastlaneTestModeSettings:N})});case 25:case"end":return U.stop()}},_callee6)})),this._getServerBootstrapResponse=Object(i.a)(r.a.mark(function _callee7(){var e,a,n,c,i,d,l,b,p,f,g,O;return r.a.wrap(function _callee7$(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n=t._state(),c=Object(G.a)("CHAT",["mode"],t._params),i={sessionId:null===n||void 0===n?void 0:null===(e=n.session)||void 0===e?void 0:e.campaignRefreshToken,pageUrl:Object(G.a)("",["session","context","page","href"],n),hasHadConversations:!1,followingCampaignIds:[],excludedCampaignIds:[],siteVisits:Object(G.a)(0,["session","visitInformation","total"],n)},d=Object(o.a)(Object(o.a)({},t._identityMap),{},{embed_id:t._embedId,sessionStarted:Math.floor((null===(a=n.session)||void 0===a?void 0:a.sessionStarted)||Date.now()/1e3),targeting_context:i,slimCampaigns:!0}),t._interactionId&&!Object(C.q)(t._state())&&(d.interaction_id=t._interactionId),r.next=8,Object(s.b)(c,d);case 8:l=r.sent,b=l.data,p=l.responseTime,t._bootstrapResponse=b,Object(X.d)("enduser_bootstrap",p),r.next=20;break;case 15:r.prev=15,r.t0=r.catch(0),f=r.t0.response,g=r.t0.message,f&&f.status&&403===f.status&&(O=f.data)&&O.message&&(Object(m.a)({topic:"destroy-drift"}),Object(Y.f)(new u.a(O.message,!0),r.t0,!0)),Object(Y.f)(new u.a("Failed to get bootstrap-api response - ".concat(g)),r.t0,!0);case 20:case"end":return r.stop()}},_callee7,null,[[0,15]])})),this._checkForPreRender=function(){var e;if(t._interactionId){var a=t._bootstrapResponse.message,n=Object(ee.f)(W.a.parse(document.location.search)),c=Object(k.c)(n.interactionId),r=null===c||void 0===c?void 0:c.id;a&&!Object(Y.m)(a.messages)||r?Object(h.c)({campaignId:r,isDelayed:!1,playbookId:null===c||void 0===c?void 0:null===(e=c.attributes)||void 0===e?void 0:e.playbookId,message:t._bootstrapResponse.message,skipPrerender:!0}):Object(_.a)({interactionId:t._interactionId,locale:Object(k.f)(),goToConversation:!0,isFromConversationalLandingPage:!1,fromAPI:!1})}},this._receiveSessionFromParams=function(){t._dispatch(Object(T.u)({session:t._params.session}))},this._generateAuthenticationIdentity=Object(i.a)(r.a.mark(function _callee8(){var e,a,n;return r.a.wrap(function _callee8$(c){for(;;)switch(c.prev=c.next){case 0:return e=t._state(),a=e.session,n=(void 0===a?{}:a).externalIdentity,c.next=4,Object(M.a)(t._preReqData.signedIdentityStatus);case 4:if(t._identityMap=c.sent,!n.externalId){c.next=8;break}return c.next=8,Object(g.c)(n.externalId,n.attributes,n.options,!0);case 8:case"end":return c.stop()}},_callee8)})),this._getTimingParamValueOrDefault=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return Object(G.a)(a,["timing",e],t._params)},this._getSessionParamValueOrDefault=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return Object(G.a)(a,["session",e],t._params)},this._getInteractionId=function(){var e=Object(ee.f)(W.a.parse(document.location.search));return Object(Y.v)(e.interactionId,void 0)},this._getFastlaneTestModeSettings=function(){try{var e=W.a.parse(t._currentPageSearch).fastlaneTestMode;if(e)return JSON.parse(e)}catch(a){Object(Y.n)({type:"warn",data:["failed to parse fastlaneTestMode query param",a],internal:!0})}},this._dispatch=O.a.dispatch,this._state=O.a.getState,this._embedId=a,this._params=n,this._sessionId=this._getSessionParamValueOrDefault("sessionId",null),this._instanceId=this._getSessionParamValueOrDefault("instanceId",null),this._interactionId=this._getInteractionId()},ae=a("IpSJ"),ne=a("FAmh"),ce=a("pqMu"),re=a("iJtH"),oe=a("t8ds");function _createSuper2(e){return function(){var t,a=Object(p.a)(e);if(function isNativeReflectConstruct(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(p.a)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return Object(b.a)(this,t)}}var ie=function(e){Object(l.a)(ChatBootstrap,e);var t=_createSuper2(ChatBootstrap);function ChatBootstrap(){var e;Object(d.a)(this,ChatBootstrap);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).onBootstrapComplete=Object(i.a)(r.a.mark(function _callee(){var t,a,n,c,o,i,s;return r.a.wrap(function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return t=e._bootstrapResponse.activeConversation,a=e._bootstrapResponse.activeMessages,n=e._bootstrapResponse.widgetChatBootstrapResponse,r.next=5,Object(ae.c)();case 5:return c=r.sent,o=e.tryFireFallbackConversation(),i=!Object(Y.m)(t),c?e._dispatch(Object(T.k)({debugLog:"Fired a new driftlink conversation, will skip playbook targeting",order:1})):e.evaluateActiveConversationData(t,a),s=e._params.skipCampaigns||c||o||i,r.next=12,e.executeWidgetTargeting(null===n||void 0===n?void 0:n.campaignConversations,s);case 12:case"end":return r.stop()}},_callee)})),e.tryFireFallbackConversation=function(){var t=W.a.parse(e._currentPageSearch),a=Object(ce.a)(Array,t[f.a.FALLBACK_CONVERSATION])?t[f.a.FALLBACK_CONVERSATION][0]:t[f.a.FALLBACK_CONVERSATION];return!!a&&(e._dispatch(Object(T.k)({debugLog:"Fired fallback conversation ".concat(a),order:1})),Object(g.a)(a),!0)},e.executeWidgetTargeting=Object(i.a)(r.a.mark(function _callee2(){var t,a,n,c=arguments;return r.a.wrap(function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:[],a=c.length>1&&void 0!==c[1]&&c[1],n=Object(v.e)(t),r.next=5,Object(ne.a)({evaluatedConditionsResults:e._bootstrapResponse.evaluatedConditionsResults,unreadCampaignIds:n,skipCampaignTargeting:a});case 5:case"end":return r.stop()}},_callee2)})),e.evaluateActiveConversationData=function(){var t=Object(i.a)(r.a.mark(function _callee3(t,a){var n,c;return r.a.wrap(function _callee3$(r){for(;;)switch(r.prev=r.next){case 0:if(t&&!Object(Y.m)(null===a||void 0===a?void 0:a.data)){r.next=3;break}return e._dispatch(Object(T.k)({debugLog:"Did not find an active conversation",order:1})),r.abrupt("return");case 3:return e._dispatch(Object(T.k)({debugLog:"Found active conversation, will follow conversation id ".concat(t," and skip playbook targeting"),order:1})),e._dispatch(Object(I.p)({conversationId:Number(t)})),e._dispatch(Object(I.l)({messages:a.data,hasMoreMessages:Object(G.a)(!1,["more"],a.pagination),nextPageMessageId:Object(G.a)(null,["next"],a.pagination),conversationId:t})),r.next=8,oe.a.get(re.b);case 8:n=r.sent,c=n.data,e._dispatch(Object(H.f)({chatOpen:null!==c&&void 0!==c&&c}));case 11:case"end":return r.stop()}},_callee3)}));return function(e,a){return t.apply(this,arguments)}}(),e}return ChatBootstrap}(te);function landingPage_createSuper2(e){return function(){var t,a=Object(p.a)(e);if(function isNativeReflectConstruct(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(p.a)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return Object(b.a)(this,t)}}var se=function(e){Object(l.a)(LandingPageBootstrap,e);var t=landingPage_createSuper2(LandingPageBootstrap);function LandingPageBootstrap(){var e;Object(d.a)(this,LandingPageBootstrap);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).onBootstrapComplete=function(){e._dispatch(Object(H.e)(!1)),e._dispatch(Object(H.h)())},e}return LandingPageBootstrap}(te);a.d(t,"a",function(){return ue}),a.d(t,"b",function(){return de});var ue=function(){var e=Object(i.a)(r.a.mark(function _callee(e){var t,a;return r.a.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(s.a)(e).catch(function(e){return Object(o.a)({data:e.response.data},e.response.data)});case 3:return t=n.sent,a=t.data,n.abrupt("return",a);case 8:n.prev=8,n.t0=n.catch(0),Object(Y.f)(new u.a("Failed to get ping information from bootstrap - ".concat(n.t0.message)),n.t0);case 11:case"end":return n.stop()}},_callee,null,[[0,8]])}));return function fetchPrerequisiteChatBootstrapData(t){return e.apply(this,arguments)}}(),de=function(){var e=Object(i.a)(r.a.mark(function _callee2(e){return r.a.wrap(function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.params.mode,t.next="LANDING_PAGE"===t.t0?3:(t.t0,6);break;case 3:return t.next=5,new se(e).init();case 5:return t.abrupt("return",t.sent);case 6:return t.next=8,new ie(e).init();case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}},_callee2)}));return function init(t){return e.apply(this,arguments)}}()},ZwRX:function(e,t,a){"use strict";var n=a("mj2O"),c=a.n(n),r=a("7SM1"),o=a("QtlZ"),i=a("K7i0"),s=a("1tbh"),u=a("qwiD"),d=a("NFvl"),l="emailCapture",b=a("goRb"),p={topic:"data:sentMessage",event:function event(e){o.a.dispatch(Object(i.k)(e))}},f={topic:"typing:started",event:function event(e){window.fallbackTimeout&&window.clearTimeout(window.fallbackTimeout),o.a.dispatch(Object(i.t)({conversationId:e.conversationId,userId:e.userId,isTyping:!0})),window.fallbackTimeout=window.setTimeout(function(){o.a.dispatch(Object(i.t)({conversationId:e.conversationId,userId:e.userId,isTyping:!1}))},5e3)}},g={topic:"typing:finished",event:function event(e){o.a.dispatch(Object(i.t)({conversationId:e.conversationId,isTyping:!1}))}},O=function sendRoundTripEventForLocalMessages(e){!!Object(d.a)(["body","data","attributes","widgetGuid"],e)&&e.body.data&&Object(s.a)({message:e.body.data,timedOut:!1})},v=function(){var e=Object(r.a)(c.a.mark(function _callee(e){return c.a.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:O(e),"CREATE"===e.body.type&&"MESSAGE"===e.body.object.type&&Object(b.a)(e);case 3:case"end":return t.stop()}},_callee)}));return function onUserChangeEvent(t){return e.apply(this,arguments)}}(),j={topic:"event",event:function(){var e=Object(r.a)(c.a.mark(function _callee2(e){var t,a,n;return c.a.wrap(function _callee2$(c){for(;;)switch(c.prev=c.next){case 0:t=e.body,a=t.type,n=t.data,a===l&&o.a.dispatch(Object(u.d)({email:n.email}));case 2:case"end":return c.stop()}},_callee2)}));return function onUserTriggeredEvent(t){return e.apply(this,arguments)}}()},h={topic:"change",event:v},m={topic:"conversationPermaclose",event:function(){var e=Object(r.a)(c.a.mark(function _callee3(e){var t;return c.a.wrap(function _callee3$(a){for(;;)switch(a.prev=a.next){case 0:t=e.conversationId,o.a.dispatch(Object(i.c)({conversationId:t}));case 2:case"end":return a.stop()}},_callee3)}));return function onUserPermacloseEvent(t){return e.apply(this,arguments)}}()};a.d(t,"a",function(){return _}),a.d(t,"c",function(){return I}),a.d(t,"b",function(){return w});var _=[p],I=[f,g,h,m,j],w=[]},cwuI:function(e,t,a){"use strict";var n=a("+Kbs"),c=a("ERkP"),r=a.n(c),o=a("uDfI");t.a=function useThemeIcon(){var e=Object(o.c)(function(e){return e.embed.configuration}).theme,t=e.iconStyle,a=e.iconUrl,c=e.foregroundColor,i={SOLID1:r.a.createElement(n.h,{fill:"#".concat(c)}),SOLID2:r.a.createElement(n.g,{fill:"#".concat(c)}),OUTLINE1:r.a.createElement(n.e,{fill:"#".concat(c)}),OUTLINE2:r.a.createElement(n.f,{fill:"#".concat(c)}),BOLT:n.c};return{customIcon:a?{backgroundImage:"url(".concat(a,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat"}:{},hasCustomIcon:!!a,Icon:i[t]||null}}},goRb:function(e,t,a){"use strict";var n=a("QtlZ"),c=a("SsZN"),r=a("vjCh"),o=a("0HCW"),i=a("qixE"),s=a("K7i0"),u=a("y0Ar"),d=a("da4L"),l=a("+f1A"),b=a("g6eD"),p=a("NFvl"),f=a("LVcX"),g=a("PjZB"),O=a("0lfv"),v=a("+Ry9"),j=a("mj2O"),h=a.n(j),m=a("7SM1"),_=a("SHZQ"),I=a("IpSJ"),w=a("QX29"),y=a("4c+F"),C=function(){var e=Object(m.a)(h.a.mark(function _callee(e){var t,a,n,c;return h.a.wrap(function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return t=Object(f.a)([],["attributes","conditionSetsToEvaluate"],e),a=Object(p.a)(["attributes","playbookId"],e),r.next=4,Object(I.a)(t);case 4:n=r.sent,c={requestingMessageId:e.id,conversationId:e.conversationId,targetingRequestPayload:n},Object(y.c)("conditional_evaluated",{playbookId:a,conditionalSkillPayload:c});try{Object(_.a)(c)}catch(o){Object(w.a)(new Error("Failed to evaluate conditional skill"))}case 8:case"end":return r.stop()}},_callee)}));return function evaluateConditionalMessage(t){return e.apply(this,arguments)}}(),k=a("nfbA"),x=a("Wjfv"),A=a("HPUV"),E=function(){var e=Object(m.a)(h.a.mark(function _callee(e,t){var a,r,o,i,u,d;return h.a.wrap(function _callee$(l){for(;;)switch(l.prev=l.next){case 0:if(a=e.id,r=void 0===a?null:a,o=e.conversationId,(i=void 0===o?null:o)&&r){l.next=4;break}return Object(O.n)({data:["Message from ws not received in redux,\n        no conversationId or messageId in message for evaluateDirectAgentMessage"],internal:!0}),l.abrupt("return");case 4:return u=Object(k.a)(Object(k.a)({},e.attributes),{},{senderId:e.authorId}),d=Object(k.a)(Object(k.a)({},e),{},{attributes:u}),Object(c.k)(e),l.next=9,Object(A.a)();case 9:Object(v.e)(t,e),n.a.dispatch(Object(x.a)()),n.a.dispatch(Object(s.p)({conversationId:i})),n.a.dispatch(Object(s.r)()),n.a.dispatch(Object(s.d)({message:d}));case 14:case"end":return l.stop()}},_callee)}));return function evaluateDirectAgentMessage(t,a){return e.apply(this,arguments)}}(),T=a("xwTo"),S=a("SFoa"),D=function shouldIgnoreMessage(e,t){var a=e.conversationId,n=Object(S.l)();if(n){var c=Object(T.a)(t);if(!c){var r=Object(o.f)(t),i=Object(o.e)(t),s=Object(d.a)(e,"interactionId"),u=Object(S.c)(s);return!((null===r||void 0===r?void 0:r.includes(s))||(null===i||void 0===i?void 0:i.includes(null===u||void 0===u?void 0:u.id)))}return function isNotFromSameConvoId(e,t){return e!==t}(a,c)}return function hasCLPMessageAttribute(e){return!!Object(d.a)(e,"isFromConversationalLandingPage")}(e)?!n:Object(T.e)(t).includes(a)};a.d(t,"a",function(){return L});var L=function evaluateNewMessage(e){var t=Object(p.a)(["body","data"],e),a=Object(p.a)(["body","user"],e),j=Object(p.a)(["body","users"],e),h=Object(n.b)();if(t){var m=Object(l.l)(h),_=Object(d.a)(t,"instanceId"),I=Object(O.m)(_)||m===_,w=Object(d.d)(t,"widgetGuid");if(D(t,h))return n.a.dispatch(Object(s.s)(t.conversationId)),void Object(O.n)({data:["message ".concat(t.id," for convo ").concat(t.conversationId," was ignored coming from different widget modes")],internal:!0});if(w&&I)return Object(v.c)(t,a);var y=Object(o.e)(h),k=Object(o.f)(h),x=Object(d.d)(t,"startInteraction"),A=Object(d.a)(t,"playbookId"),T=Object(d.a)(t,"campaignId"),S=Object(d.a)(t,"interactionId"),L=Object(d.a)(t,"isExperiment"),R=Object(d.a)(t,"playbookVersion"),P=t.conversationId,M=(y.includes(T)||k.includes(S))&&x,N=Object(d.g)(t),F=t.contentType===g.c.BOT_NODE_CONDITION_EVALUATION&&Object(d.d)(t,"conditionSetsToEvaluate"),B=Object(f.a)(!1,["contentType",g.c.CHAT],t)&&!t.body.length;if(M)if(Object(c.p)(t),Object(r.b)(t),n.a.dispatch(Object(s.p)({conversationId:P})),Object(u.a)({playbookId:A,interactionId:S,conversationId:P,isVirtual:!1,isExperiment:L,playbookVersion:R}),Object(d.a)(t,"goToConversation"))return n.a.dispatch(Object(s.r)()),void n.a.dispatch(Object(b.f)({chatOpen:!0,isDriftLink:!0}));return N?E(t,a):F?C(t):Object(d.r)(t)?Object(v.b)(t,j):void(B&&Object(i.e)(t.conversationId,t.id))}Object(O.n)({data:["no message sent over 'changed' topic in user channel"],internal:!0})}},"j/hj":function(e,t,a){"use strict";var n=a("WwEg"),c=a("mj2O"),r=a.n(c),o=a("7SM1"),i=a("OE2q"),s=a("LqZ+"),u=a("QtlZ"),d=a("vjCh"),l=a("Ldxc"),b=a("La++"),p=a("0HCW"),f=a("ILQF"),g=a("qixE"),O=a("K7i0"),v=a("xwTo"),j=a("5ZR4"),h=a("B8JY"),m=a("Hvhg"),_=a("SFoa"),I=a("PCkZ"),w=a("TDUE"),y=a("pu/X"),C=a("Gxm1"),k=a("q+IY"),x=a("a4Je"),A=a("qwiD"),E=a("+f1A"),T=a("FAmh"),S=a("g6eD"),D=a("2XY6"),L=a("pqMu"),R=a("LVcX"),P=a("LelF"),M=a("iJtH"),N=a("gG69"),F=a("0lfv"),B=a("VYE+"),U=a("HPUV"),q=a("dVh+"),V=a("4c+F"),H=a("t8ds"),$=a("HSQL"),W=a("Qmxn"),Q=a("nfbA"),J=a("SHZQ"),G=a("BAMi"),Z=a("hm8b"),Y=a("i9gz"),K=function matchedEmoji(e){return e?"\u2705":"\ud83d\udeab"},X=function FormatConditionSets(e){e.forEach(function(t,a){console.table(function FormatTargetingConditions(e){var t=[];return e.forEach(function(e,a){var n="".concat(e.evaluatedCondition.field," ").concat(e.evaluatedCondition.operator," ").concat(e.evaluatedCondition.value),c=Object(Z.a)(e.actualValue)||Object(Y.a)(e.actualValue)?"none":" ".concat(e.actualValue);t.push({condition:n,actual:"".concat(K(e.matched)).concat(c)})}),t.flat()}(t.targetingConditions)),e.length-1!==a&&console.log("OR")})},z=function FormatTAL(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.conditionGroups.forEach(function(e,a){var n=K(e.matched);console[t?"group":"groupCollapsed"](n,e.priority,e.status,"playbook "+e.playbookId),X(e.conditionSets),console.groupEnd()})},ee=function(){var e=Object(o.a)(r.a.mark(function _callee(e){var t,a,n,c,o,i,s,l;return r.a.wrap(function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return t=!!(null===e||void 0===e?void 0:e.expand),a=Object(m.e)(Object(u.b)()),n=Object(d.f)(),c=Object(T.b)(),r.next=6,Object(J.d)(Object(Q.a)(Object(Q.a)({embedId:a},c),{},{followingCampaignIds:n,excludedCampaignIds:[]}),!0);case 6:return o=r.sent,i=o.data,r.next=10,Object(G.a)({conditions:i.campaignTargetingResults,internal:!0});case 10:s=r.sent,l=s.TAL,console.group("\u26a1\u26a1 Drift Debug - Playbook Targeting Results"),z(l,t),console.groupEnd();case 15:case"end":return r.stop()}},_callee)}));return function PlaybookDebugTargetingCommand(t){return e.apply(this,arguments)}}(),te=a("goRb"),ae=function ReceiveMessageSDKCall(e){Object(te.a)({body:{data:e}})},ne={PLAYBOOKS:"playbooks",RECEIVE_MESSAGE:"receiveMessage",HELP:"help",INIT:"init"},ce=function DebugSDKCall(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne.HELP,t=arguments.length>1?arguments[1]:void 0;switch(e){case ne.RECEIVE_MESSAGE:ae(t);break;case ne.PLAYBOOKS:ee(t);break;case ne.INIT:Object(W.a)(t);break;case ne.HELP:default:console.info("All debug commands: ".concat(Object.values(ne).join(", ")))}},re=a("SsZN"),oe=a("3kqR"),ie=a("8saY"),se=Object.freeze({welcomeMessage:"welcomeMessage",awayMessage:"awayMessage",emailCaptureMessage:"emailCaptureMessage",thankYouMessage:"confirmationMessage"}),ue=function apiWarning(){for(var e,t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return(e=console).warn.apply(e,["Drift API -"].concat(a))},de=function apiError(){for(var e,t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return(e=console).error.apply(e,["Drift API -"].concat(a))},le=a("F8vJ"),be=function areAttributesValid(e,t,a,n){if(Object(Z.a)(n))return a;if("function"!==typeof n&&Object(L.a)(Object,n)){for(var c=0,r=Object.keys(n);c<r.length;c++){var o=r[c],i=n[o];if(Object(Z.a)(i))return!0;if(!Object(L.a)(Number,i)&&!Object(L.a)(String,i)&&!Object(L.a)(Boolean,i))return de("".concat(e,'(...) "').concat(o,'" in ').concat(t," must be number, string, or boolean but instead we got ").concat(typeof i,".")),!1;if("email"===o&&(!Object(L.a)(String,i)||!Object(le.a)(i)))return de("".concat(e,"(...) email in ").concat(t," is invalid:"),i),!1}return!0}return!1},pe=function param(e,t,a){return{name:e,type:t,optional:a}},fe={config:[pe("options",Object)],collectFormData:[pe("data",Object,!0),pe("options",Object,!0)],debug:[pe("namespace",String,!0)],goToConversation:[pe("Conversation ID",Number)],goToNewConversation:[pe("Message",String)],identify:[pe("User ID",String),pe("attributes",be,!0),pe("options",Object,!0)],off:[pe("Event name",String),pe("handler",Function)],on:[pe("Event name",String),pe("handler",Function)],page:[pe("Page name",String,!0)],setUserAttributes:[pe("attributes",be)],setUserJwt:[pe("User JWT",String)],scheduleMeeting:[pe("Agent ID",Number),pe("options",Object,!0)],showAwayMessage:[pe("Message",String,!0)],showWelcomeMessage:[pe("Message",String,!0)],startInteraction:[pe("params",function areStartInteractionParamsValid(e,t,a,n){return Object(Z.a)(n)&&!a||!Object(L.a)(Object,n)?(de("".concat(e,"({ ... }) must be called with ").concat(t," { interactionId: number, goToConversation: boolean } (goToConversation is optional.)")),!1):n.interactionId&&!Object(Z.a)(n.interactionId)&&Object(L.a)(Number,n.interactionId)?!(n.goToConversation&&!Object(L.a)(Boolean,n.goToConversation))||(de("".concat(e,'({ ... }) "goToConversation" parameter should be boolean but we got ').concat(typeof n.goToConversation,".")),!1):(de("".concat(e,"({ ... }) requires ").concat(t,' object with numeric "interactionId" but we got ').concat(typeof n.interactionId,".")),!1)})],toggleHoursAndTargeting:[pe("enabled",Boolean)],track:[pe("Event name",String),pe("attributes",be,!0)]},ge=function getTypeName(e){return e===String||Object(L.a)(String,e)?"string":e===Boolean||Object(L.a)(Boolean,e)?"boolean":e===Number||Object(L.a)(Number,e)?"number":e===Object||Object(L.a)(Object,e)?"object":e===Function||Object(L.a)(Function,e)?"function":Object(Z.a)(e)?"null":"unknown"},Oe=function validateMethod(e,t){return fe[e]?function areArgsValid(e,t,a){var n=t.length,c=a.filter(function(e){return!e.optional}).length;return a.reduce(function(a,r,o){var i=r.name,s=r.type,u=r.optional,d=void 0!==u&&u;if(o>=n)return d||de("Invalid ".concat(e,"(...) call! It requires ").concat(c," argument(s) and it's missing ").concat(i," ").concat(ge(s),".")),a&&d&&n>=c;var l=t[o],b=!1;return d&&Object(Z.a)(l)?b=!0:s===Function||s===Object||s===String||s===Number||s===Boolean?(b="function"===typeof l?s===Function:Object(L.a)(s,l))||de("Invalid ".concat(e,"(...) call! ").concat(i," (arg ").concat(o,") should be ").concat(ge(s)," instead of ").concat(ge(l),".")):b=s(e,i,d,l),a&&b},!0)}(e,t,fe[e]):(!Object(Z.a)(t)&&Object(L.a)(Array,t)&&!!t.length&&ue("".concat(e,"() should ideally be called without arguments.")),!0)};a.d(t,"a",function(){return Ce}),a.d(t,"c",function(){return Ee}),a.d(t,"b",function(){return Pe});var ve=function debouncedAPIMethod(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;return Object(F.d)(e,t,!0)},je=function(){var e=Object(o.a)(r.a.mark(function _callee(){return r.a.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return _e(),e.next=3,Object(B.b)(P.d);case 3:Object(f.a)({topic:"reload-all-frames",message:{}});case 4:case"end":return e.stop()}},_callee)}));return function reset(){return e.apply(this,arguments)}}(),he=function toggleChatTakeoverModal(){xe(),u.a.dispatch(Object(S.f)({chatOpen:!0,isChatTakeover:!0}))},me=function openChat(){xe(),u.a.dispatch(Object(S.f)({chatOpen:!0}))},_e=function hideChat(){u.a.dispatch(Object(S.f)({chatOpen:!1}))},Ie=function showController(){u.a.dispatch(Object(S.j)({controllerOpen:!0}))},we=function(){var e=Object(o.a)(r.a.mark(function _callee2(e){var t,a,n;return r.a.wrap(function _callee2$(c){for(;;)switch(c.prev=c.next){case 0:if(t=Object(u.b)(),Object(m.e)(t)){c.next=3;break}return c.abrupt("return");case 3:return Object(j.b)(),c.next=6,Object(x.c)(e);case 6:return c.next=8,Object(f.a)({topic:"reset-page-view"});case 8:return u.a.dispatch(Object(A.y)(Object(F.w)())),a=!Object(v.h)(t),n=Object(d.h)(),a&&n||(a||u.a.dispatch(Object(S.f)({chatOpen:!1})),Object(d.c)()),c.next=15,Object(x.a)();case 15:Object(T.a)({skipCampaignTargeting:n,onDidMatch:_e});case 16:case"end":return c.stop()}},_callee2)}));return function page(t){return e.apply(this,arguments)}}(),ye=ve(function(){var e=Object(o.a)(r.a.mark(function _callee3(e){var t,a,n,c,o,i,s,l,b,p,f,O,j,h,I;return r.a.wrap(function _callee3$(r){for(;;)switch(r.prev=r.next){case 0:if(t=Object(u.b)(),a=Object(v.a)(t),c=(n=e||{}).interactionId,o=n.goToConversation,i=void 0===o||o,s=n.replaceActiveConversation,l=void 0===s||s,b=n.hideChatIcon,p=void 0!==b&&b,f=n.isFromConversationalLandingPage,O=void 0!==f&&f,j=Object(_.f)(),h=!c||!Object(L.a)(Number,c),I=!!a&&!l,!Object(m.r)(Object(u.b)())){r.next=9;break}return r.abrupt("return");case 9:if(!h){r.next=11;break}return r.abrupt("return");case 11:if(!I){r.next=14;break}return i&&me(),r.abrupt("return");case 14:return r.next=16,Object(U.a)();case 16:return u.a.dispatch(Object(S.f)({chatOpen:!1})),p&&u.a.dispatch(Object(S.b)(!0)),Object(d.c)(),r.next=21,Object(g.a)({interactionId:c,locale:j,goToConversation:i,isFromConversationalLandingPage:O,fromAPI:!0});case 21:case"end":return r.stop()}},_callee3)}));return function _startInteraction(t){return e.apply(this,arguments)}}()),Ce=function goToConversation(e){H.a.set(M.b,!0),u.a.dispatch(Object(O.p)({conversationId:e})),me()},ke=function(){var e=Object(o.a)(r.a.mark(function _callee4(){var e,t,a,n,c,o,s=arguments;return r.a.wrap(function _callee4$(r){for(;;)switch(r.prev=r.next){case 0:return e=s.length>0&&void 0!==s[0]?s[0]:"",t=Object(_.f)(),r.prev=2,r.next=5,Object(i.d)(e,{isTriggeredFromAPI:!0,locale:t});case 5:return a=r.sent,n=a.data,r.next=9,Object(i.h)(n.conversationId);case 9:c=r.sent,o=c.data,u.a.dispatch(Object(O.i)({conversation:o})),u.a.dispatch(Object(O.p)({conversationId:n.conversationId})),r.next=17;break;case 15:r.prev=15,r.t0=r.catch(2);case 17:case"end":return r.stop()}},_callee4,null,[[2,15]])}));return function goToNewConversation(){return e.apply(this,arguments)}}(),xe=function show(){u.a.dispatch(Object(S.o)({matchedTargeting:!0})),Ie()},Ae=function(){var e=Object(o.a)(r.a.mark(function _callee5(e,t){var a,n,c,o,s,d;return r.a.wrap(function _callee5$(r){for(;;)switch(r.prev=r.next){case 0:return a=Object(R.a)(null,["session","endUser","email"],Object(u.b)()),n=Object(p.k)(Object(u.b)()),c=Object(p.h)(Object(u.b)()),o=Object(_.f)(),me(),r.prev=5,r.next=8,Object(i.e)(a,e,o,t);case 8:s=r.sent,d=s.data.conversationId,u.a.dispatch(Object(O.p)({conversationId:d})),Object(re.i)(e),Object(w.d)(N.c.CALENDAR_DROP),n&&c&&Object(l.b)({conversationId:d}),r.next=19;break;case 16:r.prev=16,r.t0=r.catch(5),Object(F.n)({data:[r.t0],type:"warn"});case 19:case"end":return r.stop()}},_callee5,null,[[5,16]])}));return function scheduleMeeting(t,a){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(o.a)(r.a.mark(function _callee6(e){var t,a,n,c,o=arguments;return r.a.wrap(function _callee6$(r){for(;;)switch(r.prev=r.next){case 0:if(t=o.length>1&&void 0!==o[1]?o[1]:{},a=o.length>2&&void 0!==o[2]?o[2]:{},n=o.length>3&&void 0!==o[3]&&o[3],r.prev=3,e&&"undefined"!==e.toString()){r.next=7;break}return console.warn(y.a.API.IDENTIFY_INVALID),r.abrupt("return");case 7:return r.next=9,Object(I.c)(t,e,a);case 9:t.email&&(c=t.email,u.a.dispatch(Object(A.l)({endUser:{email:c}}))),n||Object(V.c)("OnReadyIdentify"),r.next=16;break;case 13:r.prev=13,r.t0=r.catch(3),Object(F.n)({data:[r.t0],type:"warn"});case 16:case"end":return r.stop()}},_callee6,null,[[3,13]])}));return function identify(t){return e.apply(this,arguments)}}(),Te=function(){var e=Object(o.a)(r.a.mark(function _callee7(e){var t;return r.a.wrap(function _callee7$(a){for(;;)switch(a.prev=a.next){case 0:return t=Object(E.i)(Object(u.b)()),a.next=3,Object(I.c)(e,t);case 3:Object(re.r)();case 4:case"end":return a.stop()}},_callee7)}));return function setUserAttributes(t){return e.apply(this,arguments)}}(),Se=ve(function(){var e=Object(o.a)(r.a.mark(function _callee8(e,t){var a,n,c,o,i,s,l,p,g,O;return r.a.wrap(function _callee8$(r){for(;;)switch(r.prev=r.next){case 0:return a=t&&"number"===typeof t.campaignId?t.campaignId:null,n=t&&"string"===typeof t.followupUrl?t.followupUrl:null,c=Object(u.b)(),o=Object(R.a)(null,["session","endUser","id"],c),Object(C.a)("post_form_takeover_tti"),r.next=7,Object(k.a)({campaignId:a,formData:e});case 7:if(i=r.sent,s=i.success,l=i.campaignMatched,p=i.matchedCampaign,g=Object(R.a)(null,["attributes","playbookId"],p),s&&Object(V.c)("Form Data Submitted",{campaignId:a,playbookId:g,endUserId:o}),!l){r.next=31;break}if(Object($.a)("post_form_takeover_enroll"),!Object(D.c)(Object(u.b)())){r.next=20;break}return _e(),r.next=20,Object(F.q)(400);case 20:return Object(d.c)(),Object(F.m)(n)||u.a.dispatch(Object(S.c)(t.followupUrl)),he(),Object(C.a)("meeting_scheduler_rtt"),r.next=26,Object(b.c)({campaignId:a,playbookId:g});case 26:return(O=Object($.b)("post_form_takeover_enroll"))&&Object(V.d)("Post Form Takeover Enroll",O),Object(C.a)("post_form_takeover_show"),Object(V.c)("Fast Lane Campaign Sent",{campaignId:a,playbookId:g,endUserId:o}),r.abrupt("return");case 31:if(Object(F.m)(n)){r.next=34;break}return r.next=34,Object(f.a)({topic:"redirect-to-url",message:{url:t.followupUrl}});case 34:case"end":return r.stop()}},_callee8)}));return function(t,a){return e.apply(this,arguments)}}(),15e3),De=ve(function(){var e=Object(o.a)(r.a.mark(function _callee9(){var e,t,a,n=arguments;return r.a.wrap(function _callee9$(c){for(;;)switch(c.prev=c.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:[],c.next=3,Object(i.l)(e);case 3:t=c.sent,a=t.data,u.a.dispatch(Object(O.b)(a));case 6:case"end":return c.stop()}},_callee9)}));return function _unfollow(){return e.apply(this,arguments)}}()),Le={identify:Ee,config:function config(e){if(!Object(L.a)(Object,e))return!1;var t=function configOptionsToEmbedConfiguration(e){var t={theme:{}};if(Object(Z.a)(e))return t;var a=e.locale,n=e.enableWelcomeMessage,c=e.enableCampaigns,r=e.enableChatTargeting,o=e.enableSoundNotifications,i=e.backgroundColor,s=e.foregroundColor,u=e.activeColor,d=e.textColor,l=e.widgetBackgroundColor,b=e.autoAssigneeId,p=e.autoAssignee,f=e.inboxId,g=e.enabled,O=e.profileMode,v=e.messages,j=e.cookieDomain,h=e.verticalOffset,m=e.horizontalOffset,_=e.landingPageConfig,I=e.showDriftBranding,w=e.messageAttributes;return a&&(t.locale=a),Object(Z.a)(n)||(t.theme.showWelcomeMessage=!!n),Object(Z.a)(c)||(t.campaignsEnabled=c),!1===r&&(t.theme.audience=ie.a.EVERYONE,t.theme.conditions=[]),Object(Z.a)(o)||(t.theme.soundNotificationEnabled=o),i&&(t.theme.backgroundColor=i.replace("#","")),s&&(t.theme.foregroundColor=s.replace("#","")),u&&(t.theme.activeColor=u.replace("#","")),d&&(t.theme.textColor=d.replace("#","")),l&&(t.theme.widgetBackgroundColor=l.replace("#","")),Object(Z.a)(b)||(t.autoAssigneeId=b),Object(Z.a)(p)||(t.autoAssignee=p),f&&(t.inboxId=f),Object(Z.a)(h)||(t.verticalOffset=h),Object(Z.a)(m)||(t.horizontalOffset=m),Object(Z.a)(g)||(t.enabled=!!g),Object(Z.a)(O)||(t.profileMode=!!O),Object(Z.a)(_)||(t.landingPageConfig=_),Object(Z.a)(I)||(t.showBranding=I),Object(Z.a)(w)||(t.messageAttributes=w),Object(Z.a)(v)||Object(oe.a)(function(e,a){v[a]&&(t.theme[e]=v[a])},se),Object(Z.a)(j)||(t.theme.cookieDomains=[j]),t}(e);u.a.dispatch(Object(h.c)(t))},track:function track(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{Object(s.a)(e,t)}catch(a){Object(F.x)(["Failed to send track event"+a])}},reset:je,debug:function debug(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ce(e,t)},show:xe,ping:function ping(){ue("drift.ping is not supported in this release.")},page:we,hide:function hide(){_e(),function hideController(){u.a.dispatch(Object(S.j)({controllerOpen:!1}))}()},off:function off(){},on:function on(){},collectFormData:Se,goToConversation:Ce,goToConversationList:function goToConversationList(){Object(v.l)(Object(u.b)())&&(me(),u.a.dispatch(Object(S.m)({conversationHistoryOpen:!0})))},goToNewConversation:ke,hideAwayMessage:function hideAwayMessage(){return _e()},hideChat:_e,hideWelcomeMessage:function hideWelcomeMessage(){return _e()},openChat:me,scheduleMeeting:Ae,setUserAttributes:Te,showAwayMessage:function showAwayMessage(e){u.a.dispatch(Object(S.o)({matchedHours:!1,matchedTargeting:!0})),Object(d.c)(),e&&"string"===typeof e&&e.length&&u.a.dispatch(Object(h.a)({message:e})),Ie(),u.a.dispatch(Object(S.f)({chatOpen:!0,displayGreeting:!0}))},showWelcomeMessage:function showWelcomeMessage(e){u.a.dispatch(Object(S.o)({matchedHours:!0,matchedTargeting:!0})),Object(d.c)(),e&&"string"===typeof e&&e.length&&u.a.dispatch(Object(h.f)({message:e})),Ie(),u.a.dispatch(Object(S.f)({chatOpen:!0,displayGreeting:!0}))},showWelcomeOrAwayMessage:function showWelcomeOrAwayMessage(){u.a.dispatch(Object(O.a)()),me()},startInteraction:ye,startVideoGreeting:function startVideoGreeting(){ue("drift.startVideoGreeting is not supported in this release.")},toggleChat:function toggleChat(){Object(D.c)(Object(u.b)())?_e():me()},toggleChatTakeoverModal:he,evaluateCampaignTargeting:function evaluateCampaignTargeting(){Object(T.a)()},toggleHoursAndTargeting:function toggleHoursAndTargeting(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];u.a.dispatch(Object(S.o)({matchedHours:e,matchedTargeting:!0}))},unfollow:De,waitForUserJwt:function waitForUserJwt(){try{u.a.dispatch(Object(A.z)())}catch(e){Object(F.n)({data:[e],type:"warn"})}},setUserJwt:function setUserJwt(e){try{u.a.dispatch(Object(A.p)(e))}catch(t){Object(F.n)({data:[t],type:"warn"})}}},Re=new q.a,Pe=function handleApiEvent(e){var t=e.data,a=t.method,c=t.args;Le[a]?Oe(a,c)&&Re.execute(function(){return Object(V.c)("API Event Fired",{method:a}),Le[a].apply(Le,Object(n.a)(c))}):de("".concat(a,"(...) does not exist."))}},"m+ej":function(e,t,a){"use strict";var n=a("nfbA"),c=a("QtlZ"),r=a("ILQF"),o=a("mfas");t.a=function UseStateSnapShot(){return Object(r.c)({topic:"CONDUCTOR:request-state-from-controller",handler:function handler(e){var t=e.data,a=Object(c.b)();Object(r.a)({topic:"".concat(t.name,":state-snap-shot"),message:{state:Object(n.a)(Object(n.a)({},Object(o.a)(["session"],a)),{},{session:Object(o.a)(["sockets"],a.session)})}})}}),c.a}},qATS:function(e,t,a){"use strict";var n=a("mj2O"),c=a.n(n),r=a("7SM1"),o=a("s8DI"),i=a("SFoa"),s=a("2XY6"),u=a("ERkP"),d=a("uDfI"),l=a("0lfv"),b=a("VpmR");t.a=function useInitializeI18n(){var e=Object(u.useState)(!1),t=Object(o.a)(e,2),a=t[0],n=t[1],p=Object(d.c)(s.b),f=Object(i.f)();return Object(u.useEffect)(function(){p&&!a&&function(){var e=Object(r.a)(c.a.mark(function _callee(){return c.a.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(b.b)(f);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(l.n)({data:["i18n failed to load - ".concat(e.t0.message),e.t0],type:"warn"});case 8:n(!0);case 9:case"end":return e.stop()}},_callee,null,[[0,5]])}));return function runAsync(){return e.apply(this,arguments)}}()()},[p,a,f]),a&&p}},t0pQ:function(e,t,a){}}]);